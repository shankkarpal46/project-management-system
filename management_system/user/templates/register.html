<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    {% include "links.html" %}
</head>
<body>

    <form action="" method="POST">
        {% csrf_token %}
        <table>
            <tr>
                <td><label for="username">Username:</label></td>
                <td>
                    <input type="text" name="username" id="username" value="{{ form.username.value|default_if_none:'' }}" />
                    {% if form.username.errors %}
                        <p style="color: red;">{{ form.username.errors.0 }}</p>
                    {% endif %}
                </td>
            </tr>

            <tr>
                <td><label for="pass">Password:</label></td>
                <td>
                    <input type="password" name="password" id="pass" />
                    {% if form.password.errors %}
                        <p style="color: red;">{{ form.password.errors.0 }}</p>
                    {% endif %}
                </td>
            </tr>

            <tr>
                <td><label for="email">Email:</label></td>
                <td>
                    <input type="email" name="email" id="email" value="{{ form.email.value|default_if_none:'' }}" />
                    {% if form.email.errors %}
                        <p style="color: red;">{{ form.email.errors.0 }}</p>
                    {% endif %}
                </td>
            </tr>

            <tr>
                <td><label for="gender">Gender:</label></td>
                <td>
                    <input type="radio" name="gender" id="male" value="male" {% if form.gender.value == "male" %}checked{% endif %}/> Male
                    <input type="radio" name="gender" id="female" value="female" {% if form.gender.value == "female" %}checked{% endif %}/> Female
                    <input type="radio" name="gender" id="other" value="other" {% if form.gender.value == "other" %}checked{% endif %}/> Other
                    {% if form.gender.errors %}
                        <p style="color: red;">{{ form.gender.errors.0 }}</p>
                    {% endif %}
                </td>
            </tr>

            <tr>
                <td><label for="phone">Phone:</label></td>
                <td>
                    <select name="phone_code">
                        <option value="+91" {% if form.phone_code.value == "+91" %}selected{% endif %}>+91</option>
                        <option value="+256" {% if form.phone_code.value == "+256" %}selected{% endif %}>+256</option>
                        <option value="+257" {% if form.phone_code.value == "+257" %}selected{% endif %}>+257</option>
                        <option value="+258" {% if form.phone_code.value == "+258" %}selected{% endif %}>+258</option>
                    </select>
                    <input type="number" name="phone" id="phone" value="{{ form.phone.value|default_if_none:'' }}" />
                    {% if form.phone.errors %}
                        <p style="color: red;">{{ form.phone.errors.0 }}</p>
                    {% endif %}
                </td>
            </tr>

            <tr>
                <td><input type="submit" value="Submit" /></td>
                <td>Already a user? <a href="{% url 'login' %}">Login Here</a></td>
            </tr>
        </table>

        {% if form.non_field_errors %}
            <p style="color: red;">{{ form.non_field_errors.0 }}</p>
        {% endif %}
    </form>

</body>
</html>
